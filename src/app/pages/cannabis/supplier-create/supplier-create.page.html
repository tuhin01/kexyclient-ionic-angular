<ion-header>
  <ion-toolbar color="primary">
    <ion-buttons slot="start">
      <ion-back-button></ion-back-button>
    </ion-buttons>
    <ion-title>Create Supplier Profile</ion-title>
  </ion-toolbar>
</ion-header>
<ion-content class="bgimg ion-padding">

  <div class="width-100 ion-text-center ion-padding-top ion-margin-top">
    <img alt="Kexy Logo" width="196" src="../../../../assets/imgs/logo.png" />
  </div>

  <ion-grid>

    <ion-row class="ion-padding-top">
      <ion-col>
        <div class="ion-text-center" [hidden]="!imageUrl">
          <img class="profile-photo" [src]="imageUrl" />
        </div>
        <ion-button
                (click)="presentFileChooser()"
                shape="round"
                expand="block"
        ><ion-icon name="attach"></ion-icon>
          Upload Company Logo</ion-button>
<!--        <button ion-button round block icon-start >-->

<!--        </button>-->
      </ion-col>
    </ion-row>

    <form [formGroup]="supplierCreateForm" (ngSubmit)="supplierCreateFormSubmitted()">

      <!--      <label>-->
      <!--        <ion-row class="border-bottom">-->
      <!--          <ion-col col-1 class="tr-kx-icon">-->
      <!--            <ion-icon name="ios-person-outline"></ion-icon>-->
      <!--          </ion-col>-->
      <!--          <ion-col col-11>-->
      <!--            <ion-input placeholder="Job Title" type="text" formControlName="job_title"></ion-input>-->
      <!--          </ion-col>-->
      <!--        </ion-row>-->
      <!--        <div class="validation-errors" text-center>-->
      <!--          <div class="error-message" *ngIf="!supplierCreateForm.controls.job_title.valid && (supplierCreateForm.get('job_title').dirty || supplierCreateForm.get('job_title').touched)">-->
      <!--            Please enter a valid Job Title.-->
      <!--          </div>-->
      <!--        </div>-->
      <!--      </label>-->

      <label>
        <ion-row class="border-bottom">
          <ion-col size="1" class="tr-kx-icon">
            <ion-icon name="ios-briefcase-outline"></ion-icon>
          </ion-col>
          <ion-col size="11">
            <ion-input placeholder="Company Name" type="text" formControlName="name"></ion-input>
          </ion-col>
        </ion-row>
        <div class="validation-errors ion-text-center" >
          <div class="error-message"
            *ngIf="!supplierCreateForm.controls.name.valid && (supplierCreateForm.get('name').dirty || supplierCreateForm.get('name').touched)">
            Please enter a valid Company Name.
          </div>
        </div>
      </label>

      <label>
        <ion-row class="border-bottom">
          <ion-col size="1" class="tr-kx-icon">
            <ion-icon name="ios-call-outline"></ion-icon>
          </ion-col>
          <ion-col size="11">
            <ion-input placeholder="Mobile Number" type="tel" formControlName="phone"></ion-input>
          </ion-col>
        </ion-row>
        <div class="validation-errors ion-text-center" >
          <div class="error-message"
            *ngIf="!supplierCreateForm.controls.phone.valid && (supplierCreateForm.get('phone').dirty || supplierCreateForm.get('phone').touched)">
            Please enter a valid 10 digit US Mobile Phone Number.
          </div>
        </div>
      </label>

      <ion-row>
        <ion-col size="12">
          <p>Please list all of the zip codes your territory covers</p>
        </ion-col>
      </ion-row>

      <div formArrayName="zip_code_list" class="ion-margin-bottom">
        <ion-row>
          <ion-col size="12">
            <label [formGroupName]="i"
              *ngFor="let zip_code of supplierCreateForm.controls.zip_code_list.controls; let i = index">
              <ion-row class="border-bottom pt-0">
                <ion-col size="1" class="tr-kx-icon">
                  <ion-icon name="ios-list-outline"></ion-icon>
                </ion-col>
                <ion-col size="10">
                  <ion-input placeholder="Zip Code" type="text" formControlName="zip_code"></ion-input>
                </ion-col>
                <ion-col size="1" class="tr-kx-icon">
                  <!-- <span ion-button icon-left clear *ngIf="supplierCreateForm.controls.zip_code_list.length > 1" (click)="removeZipCode(i)">
                    <ion-icon name="close"></ion-icon>
                  </span> -->
                  <ion-icon name="ios-trash-outline" *ngIf="supplierCreateForm.controls.zip_code_list.length > 1"
                    (click)="removeZipCode(i)"></ion-icon>
                </ion-col>
              </ion-row>
              <div class="validation-errors ion-text-center" >
                <div class="error-message"
                  *ngIf="!this.supplierCreateForm.controls.zip_code_list.controls[i].valid && this.supplierCreateForm.controls.zip_code_list.controls[i].dirty">
                  Please enter a valid US zip code
                </div>
              </div>
            </label>
          </ion-col>
          <ion-col size="12">
            <ion-button
                    (click)="addNewZipCode()"
                    expand="full"
                    size="small"
                    fill="clear"
                    class="kexy-zip-code-btn"
            ><ion-icon name="ios-add-circle-outline"></ion-icon>
              Add more zip codes</ion-button>

<!--            <button ion-button icon-start small clear >-->
<!--              -->
<!--            </button>-->
          </ion-col>
        </ion-row>
      </div>

      <ion-row class="ion-padding-top">
        <ion-col size="12">
          <ion-button
                  [disabled]="!supplierCreateForm.valid"
                  type="submit"
                  color="light"
                  expand="full"
                  shape="round"
                  class="common button"
          >Sign Up</ion-button>
        </ion-col>
      </ion-row>

    </form>

  </ion-grid>


</ion-content>
